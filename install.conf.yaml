- defaults:
   link:
     relink: true
     create: true
   shell:
     stdout: true
     stderr: true
     quiet: false

- clean: ['~']

- link:
   ~/.vim: vim
   ~/.zshrc:
    path: zsh/zshrc
    force: true
   ~/.p10k.zsh:
    path: zsh/p10k.zsh
    force: true
   ~/.config/flake8:
    path: python/.flake8
    force: true
   ~/.config/pyproject.toml:
    path: python/pyproject.toml
    force: true
   ~/.config/mypy/config/mypy.ini:
    path: python/mypy.ini
    force: true

- create:
  - ~/.vim/tmp/backup
  - ~/.vim/tmp/swap
  - ~/.vim/tmp/undo
  - ~/code/go/bin
  - ~/code/go/src
  - ~/code/go/pkg

- shell:
  - 
    command: setup_scripts/setup_brew
    stdin: true
    description: Install Homebrew and brew formulas and casks if not exist.
  - [setup_scripts/setup_gcloud, Install or update gcloud]
  - [setup_scripts/setup_ohmyzsh, Install ohmyzsh if it doesn't exist]
  - [setup_scripts/setup_python, Setup python dev environment]
  - [git submodule sync --recursive, Syncing submodule remote urls]
  - [git submodule update --init --recursive, Installing submodules]
  - [yarn --cwd ~/.vim/pack/vendor/start/markdown-preview/app install, Yarn install markdown-preview vim plugin]
